(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[719],{3423:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>i});var r=t(5155),a=t(2115),n=t(63),c=t(2769);function l(e){let{data:s,size:t=200,className:n=""}=e,[l,d]=(0,a.useState)(""),[i,o]=(0,a.useState)(!0),[m,x]=(0,a.useState)("");return((0,a.useEffect)(()=>{if(!s)return void o(!1);(async()=>{try{o(!0),x("");let e=await c.toDataURL(s,{width:t,margin:2,color:{dark:"#000000",light:"#FFFFFF"},errorCorrectionLevel:"M"});d(e)}catch(e){console.error("Error generating QR code:",e),x("Failed to generate QR code")}finally{o(!1)}})()},[s,t]),i)?(0,r.jsx)("div",{className:"flex items-center justify-center bg-gray-100 rounded-lg ".concat(n),style:{width:t,height:t},children:(0,r.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-gray-900"})}):m?(0,r.jsx)("div",{className:"flex items-center justify-center bg-red-50 rounded-lg border border-red-200 ".concat(n),style:{width:t,height:t},children:(0,r.jsxs)("div",{className:"text-center text-red-600",children:[(0,r.jsx)("p",{className:"text-sm font-medium",children:"Error"}),(0,r.jsx)("p",{className:"text-xs",children:m})]})}):l?(0,r.jsx)("div",{className:"inline-block ".concat(n),children:(0,r.jsx)("img",{src:l,alt:"QR Code for payment",className:"rounded-lg border border-gray-200",style:{width:t,height:t}})}):(0,r.jsx)("div",{className:"flex items-center justify-center bg-gray-100 rounded-lg ".concat(n),style:{width:t,height:t},children:(0,r.jsx)("div",{className:"text-center text-gray-500",children:(0,r.jsx)("p",{className:"text-sm",children:"No QR Code"})})})}function d(){let e=(0,n.useSearchParams)(),s=e.get("data"),t=e.get("order"),a=e.get("amount");return s?(0,r.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,r.jsx)("div",{className:"bg-white rounded-lg shadow-lg p-8 max-w-md w-full mx-4",children:(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Scan to Pay"}),(0,r.jsx)("p",{className:"text-gray-600 mb-6",children:"Use your phone's camera or Venmo app to scan this QR code"}),(0,r.jsx)("div",{className:"mb-6",children:(0,r.jsx)(l,{data:s,size:300,className:"mx-auto"})}),t&&(0,r.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4 mb-6",children:[(0,r.jsxs)("p",{className:"text-sm text-gray-600",children:[(0,r.jsx)("span",{className:"font-medium",children:"Order:"})," ",t]}),a&&(0,r.jsxs)("p",{className:"text-sm text-gray-600",children:[(0,r.jsx)("span",{className:"font-medium",children:"Amount:"})," $",a]})]}),(0,r.jsxs)("div",{className:"text-sm text-gray-500 space-y-2",children:[(0,r.jsx)("p",{children:"1. Open your Venmo app"}),(0,r.jsx)("p",{children:'2. Tap "Scan Code" or use your camera'}),(0,r.jsx)("p",{children:"3. Scan this QR code"}),(0,r.jsx)("p",{children:"4. Complete the payment"})]}),(0,r.jsx)("button",{onClick:()=>window.close(),className:"mt-6 w-full bg-gray-600 text-white px-4 py-2 rounded-lg hover:bg-gray-700 transition-colors",children:"Close Window"})]})})}):(0,r.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Invalid QR Code"}),(0,r.jsx)("p",{className:"text-gray-600",children:"No payment data provided."})]})})}function i(){return(0,r.jsx)(a.Suspense,{fallback:(0,r.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:(0,r.jsx)("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-gray-900"})}),children:(0,r.jsx)(d,{})})}},6172:(e,s,t)=>{Promise.resolve().then(t.bind(t,3423))}},e=>{e.O(0,[519,441,255,120],()=>e(e.s=6172)),_N_E=e.O()}]);