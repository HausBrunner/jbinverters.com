(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{63:(e,t,s)=>{"use strict";var a=s(7260);s.o(a,"useRouter")&&s.d(t,{useRouter:function(){return a.useRouter}}),s.o(a,"useSearchParams")&&s.d(t,{useSearchParams:function(){return a.useSearchParams}})},2376:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>h});var a=s(5155),r=s(2115),i=s(63),l=s(9379),c=s(8455),d=s(5239);let n=(0,s(1847).A)("external-link",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);var o=s(512),m=s(7740);function x(e){let{product:t,onMailInClick:s,isPriority:i=!1}=e,{addItem:l}=(0,m._)(),[c,x]=(0,r.useState)(!1),h=async()=>{if("mail-in-service"===t.id&&s)return void s();x(!0),l({id:t.id,name:t.name,price:t.price,imageUrl:t.imageUrl||void 0}),setTimeout(()=>x(!1),500)},u="mail-in-service"===t.id;return(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-900 overflow-hidden hover:shadow-md transition-shadow",children:[(0,a.jsx)("div",{className:"aspect-w-16 aspect-h-12 bg-white",children:t.imageUrl?(0,a.jsx)(d.default,{src:t.imageUrl,alt:t.name,width:400,height:300,className:"w-full h-52 object-cover",priority:i}):(0,a.jsx)("div",{className:"w-full h-48 bg-white flex items-center justify-center",children:(0,a.jsxs)("div",{className:"text-gray-400 text-center",children:[(0,a.jsx)("div",{className:"w-16 h-16 bg-gray-300 rounded-lg mx-auto mb-2"}),(0,a.jsx)("p",{className:"text-sm",children:"No Image"})]})})}),(0,a.jsxs)("div",{className:"p-6",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:t.name}),t.description&&(0,a.jsx)("p",{className:"text-gray-700 text-sm mb-4 line-clamp-3",children:t.description}),(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsxs)("span",{className:"text-2xl font-bold text-gray-900",children:["$",t.price.toFixed(2)]}),t.stock>0&&!u&&(0,a.jsxs)("span",{className:"text-sm text-green-600 font-medium",children:["In Stock (",t.stock,")"]})]}),(0,a.jsx)("button",{onClick:h,disabled:c||!u&&0===t.stock,className:"w-full flex items-center justify-center px-4 py-2 rounded-md font-medium transition-colors ".concat(u?"bg-blue-600 text-white hover:bg-blue-700":0===t.stock?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-blue-900 text-white hover:bg-blue-700"),children:c?(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),(0,a.jsx)("span",{children:"Adding..."})]}):u?(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(n,{className:"w-4 h-4"}),(0,a.jsx)("span",{children:"Request Repair"})]}):(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(o.A,{className:"w-4 h-4"}),(0,a.jsx)("span",{children:0===t.stock?"Out of Stock":"Add to Cart"})]})})]})]})}function h(){let[e,t]=(0,r.useState)([]),[s,d]=(0,r.useState)(!0),{getTotalItems:n}=(0,m._)(),o=(0,i.useRouter)();(0,r.useEffect)(()=>{(async()=>{try{let e=await fetch("/api/products");if(e.ok){let s=await e.json();t(s)}}catch(e){console.error("Error fetching products:",e)}finally{d(!1)}})()},[]);let h=()=>{o.push("/mail-in-service")};return(0,a.jsxs)("div",{className:"min-h-screen flex flex-col",children:[(0,a.jsx)(l.A,{cartCount:n()}),(0,a.jsx)("section",{className:"bg-gradient-to-br from-blue-900 to-blue-800 text-white py-8",children:(0,a.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,a.jsx)("div",{className:"text-center",children:(0,a.jsx)("p",{className:"text-xl text-blue-200 max-w-3xl mx-auto",children:"Quality inverters, battery chargers, and repair services for all your electrical needs. From RV power systems to off-grid solutions, we've got you covered."})})})}),(0,a.jsx)("section",{id:"products",className:"py-16 bg-white",children:(0,a.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:s?(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:[...Array(6)].map((e,t)=>(0,a.jsx)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:(0,a.jsxs)("div",{className:"animate-pulse",children:[(0,a.jsx)("div",{className:"w-full h-48 bg-gray-200 rounded-lg mb-4"}),(0,a.jsx)("div",{className:"h-6 bg-gray-200 rounded mb-2"}),(0,a.jsx)("div",{className:"h-4 bg-gray-200 rounded mb-2"}),(0,a.jsx)("div",{className:"h-4 bg-gray-200 rounded mb-4"}),(0,a.jsx)("div",{className:"h-10 bg-gray-200 rounded"})]})},t))}):(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:e.map((e,t)=>(0,a.jsx)(x,{product:e,onMailInClick:"mail-in-service"===e.id?h:void 0,isPriority:t<3},e.id))})})}),(0,a.jsx)(c.A,{})]})}},6095:(e,t,s)=>{Promise.resolve().then(s.bind(s,2376))},7740:(e,t,s)=>{"use strict";s.d(t,{_:()=>d,e:()=>c});var a=s(5155),r=s(2115);let i=(0,r.createContext)(null),l=(e,t)=>{switch(t.type){case"ADD_ITEM":if(e.items.find(e=>e.id===t.payload.id))return{...e,items:e.items.map(e=>e.id===t.payload.id?{...e,quantity:e.quantity+1}:e)};return{...e,items:[...e.items,{...t.payload,quantity:1}]};case"REMOVE_ITEM":return{...e,items:e.items.filter(e=>e.id!==t.payload)};case"UPDATE_QUANTITY":return{...e,items:e.items.map(e=>e.id===t.payload.id?{...e,quantity:t.payload.quantity}:e).filter(e=>e.quantity>0)};case"CLEAR_CART":return{items:[]};case"LOAD_CART":return{items:t.payload};default:return e}};function c(e){let{children:t}=e,[s,c]=(0,r.useReducer)(l,{items:[]});return(0,r.useEffect)(()=>{let e=localStorage.getItem("jbinverters-cart");if(e)try{let t=JSON.parse(e);c({type:"LOAD_CART",payload:t})}catch(e){console.error("Error loading cart from localStorage:",e)}},[]),(0,r.useEffect)(()=>{localStorage.setItem("jbinverters-cart",JSON.stringify(s.items))},[s.items]),(0,a.jsx)(i.Provider,{value:{state:s,dispatch:c,addItem:e=>{c({type:"ADD_ITEM",payload:e})},removeItem:e=>{c({type:"REMOVE_ITEM",payload:e})},updateQuantity:(e,t)=>{c({type:"UPDATE_QUANTITY",payload:{id:e,quantity:t}})},clearCart:()=>{c({type:"CLEAR_CART"})},getTotalPrice:()=>s.items.reduce((e,t)=>e+t.price*t.quantity,0),getTotalItems:()=>s.items.reduce((e,t)=>e+t.quantity,0)},children:t})}function d(){let e=(0,r.useContext)(i);if(!e)throw Error("useCart must be used within a CartProvider");return e}},8455:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});var a=s(5155);function r(){return(0,a.jsx)("footer",{className:"bg-blue-900 text-white",children:(0,a.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:(0,a.jsx)("p",{className:"text-sm text-center",children:"\xa9 2025 JB Inverters. All rights reserved."})})})}},9379:(e,t,s)=>{"use strict";s.d(t,{A:()=>o});var a=s(5155),r=s(2619),i=s.n(r),l=s(2115),c=s(512),d=s(5229),n=s(9540);function o(e){let{cartCount:t=0}=e,[s,r]=(0,l.useState)(!1);return(0,a.jsx)("nav",{className:"bg-white shadow-sm border-b",children:(0,a.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,a.jsxs)("div",{className:"flex justify-between h-36",children:[(0,a.jsx)("div",{className:"flex items-center",children:(0,a.jsx)(i(),{href:"/",className:"flex-shrink-0 flex items-center",children:(0,a.jsx)("div",{className:"flex items-center space-x-2",children:(0,a.jsx)("img",{src:"/images/jblogo.png",alt:"JB Inverters",className:"h-36"})})})}),(0,a.jsxs)("div",{className:"hidden md:flex items-center space-x-8",children:[(0,a.jsx)(i(),{href:"/",className:"text-gray-700 hover:text-gray-900 px-3 py-2 text-md font-medium",children:"Home"}),(0,a.jsx)(i(),{href:"/contact",className:"text-gray-700 hover:text-gray-900 px-3 py-2 text-md font-medium",children:"Contact"}),(0,a.jsxs)(i(),{href:"/cart",className:"relative text-gray-700 hover:text-gray-900 px-3 py-2 text-md font-medium",children:[(0,a.jsx)(c.A,{className:"h-5 w-5"}),t>0&&(0,a.jsx)("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center",children:t})]})]}),(0,a.jsxs)("div",{className:"md:hidden flex items-center",children:[(0,a.jsxs)(i(),{href:"/cart",className:"relative text-gray-700 hover:text-gray-900 p-2 mr-2",children:[(0,a.jsx)(c.A,{className:"h-6 w-6"}),t>0&&(0,a.jsx)("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center",children:t})]}),(0,a.jsx)("button",{onClick:()=>r(!s),className:"text-gray-700 hover:text-gray-900 p-2",children:s?(0,a.jsx)(d.A,{className:"h-6 w-6"}):(0,a.jsx)(n.A,{className:"h-6 w-6"})})]})]}),s&&(0,a.jsx)("div",{className:"md:hidden",children:(0,a.jsxs)("div",{className:"px-2 pt-2 pb-3 space-y-1 sm:px-3 bg-white border-t",children:[(0,a.jsx)(i(),{href:"/",className:"text-gray-700 hover:text-gray-900 block px-3 py-2 text-base font-medium",onClick:()=>{r(!1)},children:"Home"}),(0,a.jsx)(i(),{href:"/mail-in-service",className:"text-gray-700 hover:text-gray-900 block px-3 py-2 text-base font-medium",onClick:()=>{r(!1)},children:"Mail-In Service"}),(0,a.jsx)(i(),{href:"/contact",className:"text-gray-700 hover:text-gray-900 block px-3 py-2 text-base font-medium",onClick:()=>{r(!1)},children:"Contact"})]})})]})})}}},e=>{e.O(0,[949,239,441,255,120],()=>e(e.s=6095)),_N_E=e.O()}]);